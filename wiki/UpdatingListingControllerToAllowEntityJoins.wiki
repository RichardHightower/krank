#summary Updating Listing Controller to Allow Entity Joins

=== Problem ===

Let's say we have classes as follows:

{{{
//inquiries
class Inquiry
class PetStoreInquiry extends Inquiry has property a
class PetClinicInquiry extends Inquiry has property b

//leads
class Lead has an Inquiry (one to one)
class PetStoreLead extends Lead
class PetClinicLead extends Lead
}}}

The question is while searching for `PetStoreLead`s how do you access properties of the inquiry subclass?

This query drives JPA(Hibernate) wild and causes an error:

{{{
SELECT lead FROM PetStoreLead lead WHERE lead.inquiry.a='a'
}}}

The error you get is that `lead.inquiry` does not have a property called `a`.
The problem is that `Inquiry` does no have a property `a`, its subclass `PetStoreInquiry` does.

One possible solution to the above is to rewrite the query as:

{{{

        SELECT lead 
        FROM PetStoreLead lead, PetStoreInquiry inquiry 
        WHERE inquiry.a='a' AND lead.inquiry=inquiry
}}}

There might be a better way. If there is, please share it.

=== Proposed update ===